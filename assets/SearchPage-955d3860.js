import{r as p,b as y,o as a,d as h,w as g,e as d,f as l,u as o,i as f,t as v,l as k,m as S,h as m,n as x,q as $,c as i,v as w,F as D,k as B,s as C,a as V}from"./index-daef0a02.js";const b={alt:"",class:"main__search-list-item-img"},N={class:"main__search-list-item-title"},T={__name:"SearchContent",props:{item:Object,type:String},setup(e){return(t,r)=>{const s=p("router-link"),c=y("lazy");return a(),h(s,{to:`${e.type}/${e.item.id}`,class:"main__search-list-item"},{default:g(()=>[d(l("img",b,null,512),[[c,o(f)+e.item.backdrop_path]]),l("h2",N,v(e.item.title||e.item.name),1)]),_:1},8,["to"])}}},U=k("search",{state:()=>({result:null}),actions:{async getSearchData(e){try{let t=await S.get(`search/multi?query=${e}&language=ru-RU`);this.result=t.data.results}catch(t){console.log("Ошибка при поиске данных "+t.message)}}}}),q={class:"main__search"},z={class:"container"},F={key:0,class:"main__search-list"},M={__name:"Search",setup(e){const t=m(""),r=m(null),s=U();let c=null;return x(t,u=>{clearTimeout(c),c=setTimeout(()=>{s.getSearchData(u)},500)}),$(()=>{r.value.focus()}),(u,_)=>(a(),i("div",q,[l("div",z,[d(l("input",{type:"text",class:"main__search-input",placeholder:"Найти фильм, сериал...","onUpdate:modelValue":_[0]||(_[0]=n=>t.value=n),ref_key:"input",ref:r},null,512),[[w,t.value]]),o(s).result?(a(),i("div",F,[(a(!0),i(D,null,B(o(s).result,n=>(a(),h(T,{key:n.id,item:n,type:n.media_type},null,8,["item","type"]))),128))])):C("",!0)])]))}},j={class:"main"},L={__name:"SearchPage",setup(e){return(t,r)=>(a(),i("main",j,[V(M)]))}};export{L as default};
