import{r as c,b as h,o as s,d as m,w as k,e as f,f as o,u as w,i as x,t as d,g as M,h as V,p as $,j as B,c as _,F as P,k as S,a as b}from"./index-daef0a02.js";const C={alt:"",class:"main__media-list-item-img"},D={class:"main__media-list-item-title"},L={__name:"MediaItem",props:{item:Object,type:String},setup(e){return(t,l)=>{const i=c("router-link"),a=h("lazy");return s(),m(i,{to:`${e.type}/${e.item.id}`,class:"main__media-list-item"},{default:k(()=>[f(o("img",C,null,512),[[a,w(x)+e.item.backdrop_path]]),o("h2",D,d(e.item.title||e.item.name),1)]),_:1},8,["to"])}}};const j={key:0,class:"main__media"},z={class:"container"},F={class:"main__media-title"},N={class:"main__media-list"},q={__name:"Media",props:{type:String},setup(e){const t=e,l=M(),i=V(1),a=$();a.getPopular({type:t.type,page:1});const u=B(()=>t.type=="movie"?a.popularMovies:t.type=="tv"?a.popularTvs:""),y=async r=>{await a.getPopular({type:t.type,page:r}),console.log(l),l.push({name:t.type,query:{currentPage:r}})};return(r,p)=>{const v=c("vue-awesome-paginate"),g=c("Loader");return u.value?(s(),_("div",j,[o("div",z,[o("h2",F,d(e.type=="movie"?"Все фильмы":e.type=="tv"?"Все сериалы":""),1),o("div",N,[(s(!0),_(P,null,S(u.value,n=>(s(),m(L,{key:n.id,item:n,type:e.type},null,8,["item","type"]))),128))]),b(v,{"total-items":1e4,"items-per-page":20,"max-pages-shown":3,modelValue:i.value,"onUpdate:modelValue":p[0]||(p[0]=n=>i.value=n),"on-click":y},null,8,["modelValue"])])])):(s(),m(g,{key:1}))}}};export{q as _};
